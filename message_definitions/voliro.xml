<?xml version="1.0"?>
<!-- Voliro Mavlink Message Definition File -->
<!-- Used for the Voliro omnidirectional platforms -->
<mavlink>
  <include>common.xml</include>
  <messages>
    <message id="501" name="SET_ROLL_PITCH_YAWRATE_THRUST_TARGET">
      <description>Set command roll pitch yawrate thrust vector</description>
      <field type="uint32_t" name="time_boot_ms" units="ms">Timestamp in milliseconds since system boot</field>
      <field type="uint8_t" name="target_system">System ID</field>
      <field type="uint8_t" name="target_component">Component ID</field>
      <field type="float" name="roll">desired roll angle in rad</field>
      <field type="float" name="pitch">desired pitch angle in rad</field>
      <field type="float" name="yawrate">desired yawrate in rad/s</field>
      <field type="float[3]" name="angular_acc_ff">angular acceleration feedforward term</field>
      <field type="float[3]" name="thrust">thrust vector x, y, z in Newton</field>
    </message>
    <message id="502" name="SET_ATTITUDE_THRUST_TARGET">
      <description>Set command attitude, rate and thrust vector</description>
      <field type="uint32_t" name="time_boot_ms" units="ms">Timestamp in milliseconds since system boot</field>
      <field type="uint8_t" name="target_system">System ID</field>
      <field type="uint8_t" name="target_component">Component ID</field>
      <field type="float[4]" name="q">desired quaternion</field>
      <field type="float[3]" name="rates">desired angular rates</field>
      <field type="float[3]" name="angular_acc_ff">angular acceleration feedforward term</field>
      <field type="float[3]" name="thrust">thrust vector x, y, z in Newton</field>
    </message>
    <message id="503" name="MASS_AND_COM">
      <description>Get mass and center of mass </description>
      <field type="uint32_t" name="time_boot_ms" units="ms">Timestamp in milliseconds since system boot</field>
      <field type="uint8_t" name="target_system">System ID</field>
      <field type="uint8_t" name="target_component">Component ID</field>
      <field type="float" name="mass">mass</field>
      <field type="float[3]" name="com">center of mass</field>
    </message>
    <message id="504" name="DISTANCE_SENSOR_MULTI">
      <description>distance sensor </description>
      <field type="uint32_t" name="time_boot_ms" units="ms">Timestamp in milliseconds since system boot</field>
      <field type="uint8_t" name="target_system">System ID</field>
      <field type="uint8_t" name="target_component">Component ID</field>
      <field type="float[4]" name="distance_sensor">filtered distance sensor measurements LIDAR LITE</field>
    </message>
    <message id="505" name="WALL_PARAMETER">
      <description>distance sensor </description>
      <field type="uint32_t" name="time_boot_ms" units="ms">Timestamp in milliseconds since system boot</field>
      <field type="uint8_t" name="target_system">System ID</field>
      <field type="uint8_t" name="target_component">Component ID</field>
      <field type="float" name="delta_pitch">desired angular rates</field>
      <field type="float" name="delta_yaw">angular acceleration feedforward term</field>
      <field type="float" name="wall_distance">distance to the wall</field>
      <field type="float" name="velocity">velocity to the wall</field>
      <field type="float[3]" name="normal_vector">normal vector of wall expressed in vehicle frame</field>
    </message>
    <message id="506" name="VOLIRO_CONTROL_INTEGRATOR">
      <description>distance sensor </description>
      <field type="uint32_t" name="time_boot_ms" units="ms">Timestamp in milliseconds since system boot</field>
      <field type="uint8_t" name="target_system">System ID</field>
      <field type="uint8_t" name="target_component">Component ID</field>
      <field type="float" name="yawrate_int">yawrate integrator</field>
      <field type="float" name="pitchrate_int">pitchrate integrator</field>
      <field type="float" name="rollrate_int">rollrate integrator</field>
      <field type="float" name="velz_int">velocity z integrator</field>
    </message>
    <message id="507" name="VOLIRO_GENERIC_PAYLOAD_TARGET">
      <description>generic payload target </description>
      <field type="uint32_t" name="time_boot_ms" units="ms">Timestamp in milliseconds since system boot</field>
      <field type="uint8_t" name="target_system">System ID</field>
      <field type="uint8_t" name="target_component">Component ID</field>
      <field type="float[4]" name="control">payload control command</field>
    </message>
    <message id="508" name="VOLIRO_COMMAND_TRAJECTORY_POINT">
      <description>command trajectory point</description>
      <field type="uint32_t" name="time_boot_ms" units="ms">Timestamp in milliseconds since system boot</field>
      <field type="uint8_t" name="target_system">System ID</field>
      <field type="uint8_t" name="target_component">Component ID</field>
      <field type="float[3]" name="position_ref">position reference command</field>
      <field type="float[3]" name="velocity_W_ref">velocity reference command</field>
      <field type="float[3]" name="acceleration_W_ref">acceleration reference command</field>
      <field type="float[3]" name="angular_rate_W_ref">angular_rate reference command</field>
      <field type="float[4]" name="orientation_WB_ref">orientation reference command</field>
    </message>
    <message id="509" name="VOLIRO_BACK_TO_POSITION_HOLD_BOOL">
      <description>command trajectory point</description>
      <field type="uint32_t" name="time_boot_ms" units="ms">Timestamp in milliseconds since system boot</field>
      <field type="uint8_t" name="target_system">System ID</field>
      <field type="uint8_t" name="target_component">Component ID</field>
      <field type="uint8_t" name="back_to_position_hold">boolean indicating to change back to position hold mode
                            for position controller (1 indicating to change). Triggered by ROS service.</field>
    </message>
    <message id="510" name="VOLIRO_POSITION_CONTROLLER_MODE">
      <description>position controller mode</description>
      <field type="uint32_t" name="time_boot_ms" units="ms">Timestamp in milliseconds since system boot</field>
      <field type="uint8_t" name="target_system">System ID</field>
      <field type="uint8_t" name="target_component">Component ID</field>
      <field type="uint8_t" name="control_mode">integer indicating in which mode the position controller is currently</field>
    </message>
  </messages>
</mavlink>
